# 설계

## Base 단독형 상점

> 엔티티 목록
- 상점 Base : 확장의 기본 단위, 계층형 등 다음 부버전에서 포함됨
- 상점 관계
- 관계 인덱스

> 엔티티 컬럼 설계
- 상점 Base `STO_Base` : 
  - 상점코드 `sto_id` : PK
    - 상점코드 규칙에 다른 의미를 부여할지.
  - 상점레벨 `level_cd` : 확장을 고려한, 최상위, 가상, 최하위 등
    - 조건 : 초기 생성후 수정 불가
    - 상점코드에 넣어두는 방법은 어떻지 ?
  - 상점명 `sto_name` :
  - 상태 `state_cd` : 활성, 중지, 등록대기 등 다양한 상태 분기
  - 삭제유무 `del_yn` : 마스터 데이터는 삭제 금지
  - 생성일자 `create_dt` : 이후에 사용함
  - 수정일자 `update_dt` : 필요한지?
    - => 상태변경 또는 상점명의 변경 시점을 파악함
  
> 엔티티 아이템 설계
- STO_Base : U | 상점 기본 테이블
- STO_Base-SP_C : SP | 생성 프로시저
- STO_Base-SP_D : SP | 삭제 프로시저
- STO_Base-SP_U : SP | 수정 (상태, 이름)
- STO_Base-SP_R : SP | 상점 조회 (내용)

> 기타 & 아이디어
- 엔티티는 아이템은 접두사/접미사로 이른 변경 가능
- 이후에 데이터 삭제 불가에 대한 제약조건 추가함
- erwin 툴 사용시 subject area 를 버전명으로 표기하면 될듯함
- 주버전이 충돌이 일어난 경우
  - gulp list 로 목록 확인
  - 충돌 여부 alert 확인
  - sub node_modules/ 로 충돌은 우회  TODO:: 확인필요!
